MDScreen:
	name: "deposit"
	MDFloatLayout:
		md_bg_color: 1, 1, 1, 1
		MDIconButton:
			icon: "chevron-left"
			user_font_size: "35sp"
			pos_hint: {"center_y": .95}
			on_release:
				root.manager.transition.direction = "right"
				root.manager.current = "home"

		MDLabel:
			text: "Deposit"
			font_size: "18sp"
			font_name: "Poppins-Regular.ttf"
			pos_hint: {"center_x": .65, "center_y": .949}	

		MDLabel:
			text: "Deposit via MoMo payment"
			font_size: "15sp"
			font_name: "Poppins-Regular.ttf"
			color: 226/255, 0, 48/255, 1
			pos_hint: {"center_x": .6, "center_y": .8}

		MDFloatLayout:
			size_hint: .79, .08
			pos_hint: {"center_x": .5, "center_y": .60}
			MDLabel:
				text: "Amount"
				font_size: "14sp"
				font_name: "Poppins-Medium.ttf"
				pos_hint: {"center_x": .5, "center_y": .9}
			TextInput:
				id: amount
				size_hint_y: .75
				font_name: "Poppins-Regular.ttf"
				pos_hint: {"center_x": .49, "center_y": .4}
				background_color: 0, 0, 0, 0
				cursor_color: 0, 0, 0, 1
				cursor_width: "2sp"
				foreground_color: 120/255, 120/255, 120/255, 1
				font_size: "17sp"
				multiline: False
			Image:
				source:"amount.png"
				pos_hint: {"center_x": .96, "center_y": .5}
				size_hint: .5, .5
			MDFloatLayout:
				pos_hint: {"center_x": .5, "center_y": .0}
				size_hint_y: .03
				md_bg_color: 120/255, 120/255, 120/255, 1

		MDFloatLayout:
			size_hint: .79, .08
			pos_hint: {"center_x": .5, "center_y": .50}
			MDLabel:
				text: "Phone number"
				font_size: "14sp"
				font_name: "Poppins-Medium.ttf"
				pos_hint: {"center_x": .5, "center_y": .9}
			TextInput:
				id: phoneNumber
				size_hint_y: .75
				font_name: "Poppins-Regular.ttf"
				pos_hint: {"center_x": .49, "center_y": .4}
				background_color: 0, 0, 0, 0
				cursor_color: 0, 0, 0, 1
				cursor_width: "2sp"
				foreground_color: 120/255, 120/255, 120/255, 1
				font_size: "17sp"
				multiline: False
			Image:
				source:"phone.png"
				pos_hint: {"center_x": .96, "center_y": .5}
				size_hint: .4, .4
			MDFloatLayout:
				pos_hint: {"center_x": .5, "center_y": .0}
				size_hint_y: .03
				md_bg_color: 120/255, 120/255, 120/255, 1

		MDFlatButton:
			text: "Initiate Deposit"
			theme_text_color: "Custom"
			text_color: 1, 1, 1, 1
			background_color: 0, 0, 0, 0
			font_name: "Poppins-Medium.ttf"
			on_release:
				app.create_user()
				app.create_user_api()
				app.generate_token()
				app.requestToPay(amount, phoneNumber)
				app.check_payment_status()

			size_hint: .79, .08
			pos_hint: {"center_x": .5, "center_y": .33}
			canvas.before:
				Color:
					rgb: 226/255, 0, 48/255, 1
				RoundedRectangle:
					size: self.size
					pos:self.pos
					radius: [2] 

		MDFloatLayout:
			pos_hint: {"center_x": .5, "center_y": .1}
			size_hint_y: .001
			md_bg_color: 120/255, 120/255, 120/255, 1

		MDTextButton:
			text: "HOME"
			font_size: "17sp"
			font_name: "Poppins-Regular.ttf"
			pos_hint: {"center_x": .15, "center_y": .05}
			halign: "left"
			#color: 226/255, 0, 48/255, 1
			on_release:
				root.manager.transition.direction = "right"
				root.manager.current = "home"